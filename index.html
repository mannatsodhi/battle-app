<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Battle Path</title>

<style>
  * { box-sizing: border-box; }
  body {
    margin: 0;
    background: black;
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  }

  .screen {
    display: none;
    min-height: 100vh;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    text-align: center;
    padding: 20px;
  }

  .screen.active {
    display: flex;
  }

  h1 { margin-bottom: 20px; }
  button {
    background: #ff3b3b;
    border: none;
    padding: 14px 24px;
    border-radius: 14px;
    color: black;
    font-size: 16px;
    margin: 10px;
    cursor: pointer;
  }

  .level {
    width: 260px;
  }

  .locked {
    opacity: 0.3;
    filter: blur(4px);
    pointer-events: none;
  }

  #timer {
    font-size: 32px;
    margin: 20px 0;
  }
</style>
</head>

<body>

<!-- SCREEN 1 -->
<div id="screen-start" class="screen active">
  <h1>Hi.</h1>
  <button onclick="go('screen-menu')">Enter</button>
</div>

<!-- SCREEN 2 -->
<div id="screen-menu" class="screen">
  <h1>Battle Path</h1>

  <button class="level" onclick="startBattle(1800)">Soldiers (30 min)</button>
  <button class="level locked">Inosuke (2h)</button>
  <button class="level locked">Zenitsu (2h)</button>
  <button class="level locked">Rengoku (5h)</button>
</div>

<!-- SCREEN 3 -->
<div id="screen-battle" class="screen">
  <h1>Battle Ongoing</h1>
  <div id="timer">00:00</div>
  <button onclick="giveUp()">Give up</button>
</div>

<!-- SCREEN 4 -->
<div id="screen-result" class="screen">
  <h1 id="resultText"></h1>
  <button onclick="go('screen-menu')">Continue</button>
</div>

<script>
let currentTimer;
let remaining;

function go(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function startBattle(seconds) {
  remaining = seconds;
  go('screen-battle');
  updateTimer();
  currentTimer = setInterval(() => {
    remaining--;
    updateTimer();
    if (remaining <= 0) {
      clearInterval(currentTimer);
      win();
    }
  }, 1000);
}

function updateTimer() {
  const m = Math.floor(remaining / 60).toString().padStart(2,'0');
  const s = (remaining % 60).toString().padStart(2,'0');
  document.getElementById('timer').innerText = `${m}:${s}`;
}

function giveUp() {
  clearInterval(currentTimer);
  document.getElementById('resultText').innerText = "Defeated.\nToo weak.";
  go('screen-result');
}

function win() {
  document.getElementById('resultText').innerText = "Victory.\nYou endured.";
  go('screen-result');
}
</script>

</body>
</html>

